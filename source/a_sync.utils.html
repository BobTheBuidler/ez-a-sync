

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>a_sync.utils package &mdash; ez-a-sync  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="a_sync.sphinx package" href="a_sync.sphinx.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ez-a-sync
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">a_sync</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="a_sync.html">a_sync package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="a_sync.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="a_sync.a_sync.html">a_sync.a_sync package</a></li>
<li class="toctree-l4"><a class="reference internal" href="a_sync.async_property.html">a_sync.async_property package</a></li>
<li class="toctree-l4"><a class="reference internal" href="a_sync.asyncio.html">a_sync.asyncio package</a></li>
<li class="toctree-l4"><a class="reference internal" href="a_sync.primitives.html">a_sync.primitives package</a></li>
<li class="toctree-l4"><a class="reference internal" href="a_sync.sphinx.html">a_sync.sphinx package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">a_sync.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.ENVIRONMENT_VARIABLES">a_sync.ENVIRONMENT_VARIABLES module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync._smart">a_sync._smart module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync._typing">a_sync._typing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.aliases">a_sync.aliases module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.debugging">a_sync.debugging module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.exceptions">a_sync.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.executor">a_sync.executor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.functools">a_sync.functools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.future">a_sync.future module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.iter">a_sync.iter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync.task">a_sync.task module</a></li>
<li class="toctree-l3"><a class="reference internal" href="a_sync.html#module-a_sync">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ez-a-sync</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">a_sync</a></li>
          <li class="breadcrumb-item"><a href="a_sync.html">a_sync package</a></li>
      <li class="breadcrumb-item active">a_sync.utils package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/source/a_sync.utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="a-sync-utils-package">
<h1>a_sync.utils package<a class="headerlink" href="#a-sync-utils-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-a_sync.utils.iterators">
<span id="a-sync-utils-iterators-module"></span><h2>a_sync.utils.iterators module<a class="headerlink" href="#module-a_sync.utils.iterators" title="Link to this heading"></a></h2>
<p>This module provides utility functions for handling and merging asynchronous iterators. It includes functions to
exhaust async iterators, merge multiple async iterators into a single async iterator, and manage the processing
flow of items in an asynchronous context.</p>
<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.iterators.as_yielded">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a_sync.utils.iterators.</span></span><span class="sig-name descname"><span class="pre">as_yielded</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">iterators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/iterators.html#as_yielded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.iterators.as_yielded" title="Link to this definition"></a></dt>
<dd><p>Merges multiple async iterators into a single async iterator that yields items as they become available from any of the source iterators.</p>
<p>This function is designed to streamline the handling of multiple asynchronous data streams by consolidating them into a single asynchronous iteration context.
It enables concurrent fetching and processing of items from multiple sources, improving efficiency and simplifying code structure when dealing with asynchronous operations.</p>
<p>The merging process is facilitated by the <a class="reference internal" href="#a_sync.utils.iterators.exhaust_iterators" title="a_sync.utils.iterators.exhaust_iterators"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterators()</span></code></a> function, which concurrently processes the source iterators and places their items into a queue.
This mechanism ensures that the merged stream of items is delivered in an order determined by the availability of items from the source iterators, rather than their original sequence.</p>
<p>The function handles exceptions and ensures robustness and reliability by using asyncio tasks and queues. It manages edge cases such as early termination and exception management.
The <code class="xref py py-class docutils literal notranslate"><span class="pre">_Done</span></code> sentinel class is used internally to signal the completion of processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*iterators</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AsyncIterator" title="(in Python v3.13)"><em>AsyncIterator</em></a><em>[</em><em>T</em><em>]</em>) – Variable length list of <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncIterator</span></code></a> objects to be merged.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AsyncIterator" title="(in Python v3.13)"><em>AsyncIterator</em></a>[<em>T</em>]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This implementation leverages asyncio tasks and queues to efficiently manage the asynchronous iteration and merging process.
It handles edge cases such as early termination and exception management, ensuring robustness and reliability.
The <code class="xref py py-class docutils literal notranslate"><span class="pre">_Done</span></code> sentinel class is used internally to signal the completion of processing.</p>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">async</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">as_yielded</span><span class="p">(</span><span class="n">iterator1</span><span class="p">,</span> <span class="n">iterator2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a_sync.utils.iterators.exhaust_iterator" title="a_sync.utils.iterators.exhaust_iterator"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterator()</span></code></a></p></li>
<li><p><a class="reference internal" href="#a_sync.utils.iterators.exhaust_iterators" title="a_sync.utils.iterators.exhaust_iterators"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterators()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.iterators.exhaust_iterator">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a_sync.utils.iterators.</span></span><span class="sig-name descname"><span class="pre">exhaust_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterator</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/iterators.html#exhaust_iterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.iterators.exhaust_iterator" title="Link to this definition"></a></dt>
<dd><p>Asynchronously iterates over items from the given async iterator and optionally places them into a queue.</p>
<p>This function is a utility to exhaust an async iterator, with an option to forward the iterated items to a provided queue-like object.
The queue should have a <cite>put_nowait</cite> method. This is particularly useful when dealing with asynchronous operations that produce items
to be consumed by other parts of an application, enabling a producer-consumer pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterator</strong> (<em>AsyncIterator</em><em>[</em><em>T</em><em>]</em>) – The async iterator to exhaust.</p></li>
<li><p><strong>queue</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/asyncio-queue.html#asyncio.Queue" title="(in Python v3.13)"><em>asyncio.Queue</em></a><em>]</em>) – An optional queue-like object where iterated items will be placed.
The queue should support the <cite>put_nowait</cite> method. If None, items are simply consumed.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">await</span> <span class="n">exhaust_iterator</span><span class="p">(</span><span class="n">some_async_iterator</span><span class="p">,</span> <span class="n">queue</span><span class="o">=</span><span class="n">my_queue</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a_sync.utils.iterators.exhaust_iterators" title="a_sync.utils.iterators.exhaust_iterators"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterators()</span></code></a></p></li>
<li><p><a class="reference internal" href="#a_sync.utils.iterators.as_yielded" title="a_sync.utils.iterators.as_yielded"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_yielded()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.iterators.exhaust_iterators">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a_sync.utils.iterators.</span></span><span class="sig-name descname"><span class="pre">exhaust_iterators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterators</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/iterators.html#exhaust_iterators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.iterators.exhaust_iterators" title="Link to this definition"></a></dt>
<dd><p>Asynchronously iterates over multiple async iterators concurrently and optionally places their items into a queue.</p>
<p>This function leverages <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.gather" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.gather()</span></code></a> to concurrently exhaust multiple async iterators. It’s useful in scenarios where items
from multiple async sources need to be processed or collected together, supporting concurrent operations and efficient multitasking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterators</strong> – A sequence of async iterators to be exhausted concurrently.</p></li>
<li><p><strong>queue</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="a_sync.html#a_sync.Queue" title="a_sync.Queue"><em>Queue</em></a><em>]</em>) – An optional queue-like object where items from all iterators will be placed. If None, items are simply consumed.</p></li>
<li><p><strong>join</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>]</em>) – If a queue was provided and join is True, this coroutine will continue to run until all queue items have been processed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If <cite>join</cite> is True but no <cite>queue</cite> is provided.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">await</span> <span class="n">exhaust_iterators</span><span class="p">([</span><span class="n">iterator1</span><span class="p">,</span> <span class="n">iterator2</span><span class="p">],</span> <span class="n">queue</span><span class="o">=</span><span class="n">my_queue</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a_sync.utils.iterators.exhaust_iterator" title="a_sync.utils.iterators.exhaust_iterator"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterator()</span></code></a></p></li>
<li><p><a class="reference internal" href="#a_sync.utils.iterators.as_yielded" title="a_sync.utils.iterators.as_yielded"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_yielded()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

</section>
<section id="module-a_sync.utils.repr">
<span id="a-sync-utils-repr-module"></span><h2>a_sync.utils.repr module<a class="headerlink" href="#module-a_sync.utils.repr" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.repr._join_first_5_reprs">
<span class="sig-prename descclassname"><span class="pre">a_sync.utils.repr.</span></span><span class="sig-name descname"><span class="pre">_join_first_5_reprs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/repr.html#_join_first_5_reprs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.repr._join_first_5_reprs" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iterable</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><em>Iterable</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.repr.repr_trunc">
<span class="sig-prename descclassname"><span class="pre">a_sync.utils.repr.</span></span><span class="sig-name descname"><span class="pre">repr_trunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/repr.html#repr_trunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.repr.repr_trunc" title="Link to this definition"></a></dt>
<dd><p>Returns a truncated <cite>repr</cite> for <cite>iterable</cite>, limited to the first 5 items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iterable</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><em>Iterable</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-a_sync.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-a_sync.utils" title="Link to this heading"></a></h2>
<p>This module initializes the utility functions for the a_sync library, including functions for handling asynchronous
iterators and implementing asynchronous versions of the built-in any and all functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.as_yielded">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a_sync.utils.</span></span><span class="sig-name descname"><span class="pre">as_yielded</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">iterators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/iterators.html#as_yielded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.as_yielded" title="Link to this definition"></a></dt>
<dd><p>Merges multiple async iterators into a single async iterator that yields items as they become available from any of the source iterators.</p>
<p>This function is designed to streamline the handling of multiple asynchronous data streams by consolidating them into a single asynchronous iteration context.
It enables concurrent fetching and processing of items from multiple sources, improving efficiency and simplifying code structure when dealing with asynchronous operations.</p>
<p>The merging process is facilitated by the <a class="reference internal" href="#a_sync.utils.exhaust_iterators" title="a_sync.utils.exhaust_iterators"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterators()</span></code></a> function, which concurrently processes the source iterators and places their items into a queue.
This mechanism ensures that the merged stream of items is delivered in an order determined by the availability of items from the source iterators, rather than their original sequence.</p>
<p>The function handles exceptions and ensures robustness and reliability by using asyncio tasks and queues. It manages edge cases such as early termination and exception management.
The <code class="xref py py-class docutils literal notranslate"><span class="pre">_Done</span></code> sentinel class is used internally to signal the completion of processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*iterators</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AsyncIterator" title="(in Python v3.13)"><em>AsyncIterator</em></a><em>[</em><em>T</em><em>]</em>) – Variable length list of <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncIterator</span></code></a> objects to be merged.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AsyncIterator" title="(in Python v3.13)"><em>AsyncIterator</em></a>[<em>T</em>]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This implementation leverages asyncio tasks and queues to efficiently manage the asynchronous iteration and merging process.
It handles edge cases such as early termination and exception management, ensuring robustness and reliability.
The <code class="xref py py-class docutils literal notranslate"><span class="pre">_Done</span></code> sentinel class is used internally to signal the completion of processing.</p>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">async</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">as_yielded</span><span class="p">(</span><span class="n">iterator1</span><span class="p">,</span> <span class="n">iterator2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a_sync.utils.exhaust_iterator" title="a_sync.utils.exhaust_iterator"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterator()</span></code></a></p></li>
<li><p><a class="reference internal" href="#a_sync.utils.exhaust_iterators" title="a_sync.utils.exhaust_iterators"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterators()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.exhaust_iterator">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a_sync.utils.</span></span><span class="sig-name descname"><span class="pre">exhaust_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterator</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/iterators.html#exhaust_iterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.exhaust_iterator" title="Link to this definition"></a></dt>
<dd><p>Asynchronously iterates over items from the given async iterator and optionally places them into a queue.</p>
<p>This function is a utility to exhaust an async iterator, with an option to forward the iterated items to a provided queue-like object.
The queue should have a <cite>put_nowait</cite> method. This is particularly useful when dealing with asynchronous operations that produce items
to be consumed by other parts of an application, enabling a producer-consumer pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterator</strong> (<em>AsyncIterator</em><em>[</em><em>T</em><em>]</em>) – The async iterator to exhaust.</p></li>
<li><p><strong>queue</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/asyncio-queue.html#asyncio.Queue" title="(in Python v3.13)"><em>asyncio.Queue</em></a><em>]</em>) – An optional queue-like object where iterated items will be placed.
The queue should support the <cite>put_nowait</cite> method. If None, items are simply consumed.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">await</span> <span class="n">exhaust_iterator</span><span class="p">(</span><span class="n">some_async_iterator</span><span class="p">,</span> <span class="n">queue</span><span class="o">=</span><span class="n">my_queue</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a_sync.utils.exhaust_iterators" title="a_sync.utils.exhaust_iterators"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterators()</span></code></a></p></li>
<li><p><a class="reference internal" href="#a_sync.utils.as_yielded" title="a_sync.utils.as_yielded"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_yielded()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="a_sync.utils.exhaust_iterators">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a_sync.utils.</span></span><span class="sig-name descname"><span class="pre">exhaust_iterators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterators</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/a_sync/utils/iterators.html#exhaust_iterators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#a_sync.utils.exhaust_iterators" title="Link to this definition"></a></dt>
<dd><p>Asynchronously iterates over multiple async iterators concurrently and optionally places their items into a queue.</p>
<p>This function leverages <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.gather" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.gather()</span></code></a> to concurrently exhaust multiple async iterators. It’s useful in scenarios where items
from multiple async sources need to be processed or collected together, supporting concurrent operations and efficient multitasking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterators</strong> – A sequence of async iterators to be exhausted concurrently.</p></li>
<li><p><strong>queue</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="a_sync.html#a_sync.Queue" title="a_sync.Queue"><em>Queue</em></a><em>]</em>) – An optional queue-like object where items from all iterators will be placed. If None, items are simply consumed.</p></li>
<li><p><strong>join</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>]</em>) – If a queue was provided and join is True, this coroutine will continue to run until all queue items have been processed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If <cite>join</cite> is True but no <cite>queue</cite> is provided.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">await</span> <span class="n">exhaust_iterators</span><span class="p">([</span><span class="n">iterator1</span><span class="p">,</span> <span class="n">iterator2</span><span class="p">],</span> <span class="n">queue</span><span class="o">=</span><span class="n">my_queue</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#a_sync.utils.exhaust_iterator" title="a_sync.utils.exhaust_iterator"><code class="xref py py-func docutils literal notranslate"><span class="pre">exhaust_iterator()</span></code></a></p></li>
<li><p><a class="reference internal" href="#a_sync.utils.as_yielded" title="a_sync.utils.as_yielded"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_yielded()</span></code></a></p></li>
</ul>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="a_sync.sphinx.html" class="btn btn-neutral float-left" title="a_sync.sphinx package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, BobTheBuidler.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>